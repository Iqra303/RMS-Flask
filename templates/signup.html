<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up Form</title>
    <style>
        body{
            padding: 0;
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
    background-color: white;
    overflow: hidden;
           
        }
        body::before {
          content: "";
          position: absolute;
          top: -100px; /* upar shift */
          left: 0;
          width: 100%;
          height: 300px; /* height adjust karein */
          background:red; /* line ka color */
          clip-path: ellipse(70% 90% at 0% 0%); /* curved shape */
          z-index: -1;
      }
        .container{
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 100px;
        }
        .login-form{
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
       
        h1{
            font-size: 40px;
            color: red;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;        }

        
        label{
            font-size: 21px;
            color: red;
font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;        }
        input{
            width: 450px;
            height: 40px;
            border-radius: 12px;
            padding: 5px;
           font-family: Arial, Helvetica, sans-serif;      
            font-size: 17px;
            background-color:white;
           border:2px solid black;
           margin:2px;
           color:black;
           box-shadow: 0px 4px 10px rgba(255, 255, 255, 0.7);

        }
      button{
        width: 140px;
        height: 48px;
        border-radius: 10px;
        background-color: black;
        color: white;
        font-size: 23px;
        border: none;
        font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;        
    }
   
      button:hover{
        background-color: red;
        transition: 0.3s;
        color: white;
       }
      .btn{
        margin: 10px;
        display: flex;
        flex-direction: column;
        justify-content: center;
align-items: center;
    }
    .type {
        overflow: hidden;
        white-space: nowrap;
        font-size: 21px;
        width: 0;
        color:yellow;
        animation: typing 3s steps(40, end) forwards;
      }
      
      #p2 {
        animation-delay: 3.5s;
      }
      #p3 {
        animation-delay: 7s;
      }
      #p4 {
        animation-delay: 10.5s;
      }
      
      @keyframes typing {
        from { width: 0 }
        to { width: 100% }
      }
    /* Responsive Styles */
    @media (max-width: 768px) {
        .container {
          flex-direction: column;
          gap: 40px;
          align-items: center;
        }
  
        input {
          width: 100%;
        }
  
        .login-form {
          width: 100%;
        }
  
        .animate {
          text-align: center;
        }
  
        h1 {
          font-size: 28px;
        }
  
        .type {
          font-size: 16px;
        }
      }
  
      @media (max-width: 480px) {
        h1 {
          font-size: 24px;
        }
  
        button {
          width: 100px;
          font-size: 18px;
        }
        input{
            font-size: 16px;
        }
  label{
    font-size: 17px;
  }
  
        .type {
          font-size: 15px;
        }
      }
      .link{
        display: flex;
        justify-content: center;
        align-items: center;
        color:black;
       gap:5px;
      }
      a{
        text-decoration: none;
        color: red;
      }
      #p1{
        color:red;
      }
      #p2 {
        color:red;
      }
      #p3 {
        color:red;
      }
      #p4 {
        color:red;}
        .flash-container {
            position: fixed;
            top: 20px;
            right: 20px;
            width: auto;
            max-width: 350px;
            z-index: 9999;
        }
        
        .flash-message {
            padding: 15px 20px;
            margin-bottom: 10px;
            border-radius: 8px;
            color: #fff;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            animation: fadeInOut 5s forwards;
        }
        
        /* Flash message categories */
        .flash-message.success {
            background-color: #28a745; /* green */
        }
        
        .flash-message.error {
            background-color: #dc3545; /* red */
        }
        
        /* Fade in and out animation */
        @keyframes fadeInOut {
            0% {opacity: 0; transform: translateY(-20px);}
            10% {opacity: 1; transform: translateY(0);}
            90% {opacity: 1; transform: translateY(0);}
            100% {opacity: 0; transform: translateY(-20px);}
        }
    </style>
</head>
<body>
    
       
    
    <div class="container">
        <div class="animate">
            <div class="logo">
                <a href="/">
                    <img src="{{ url_for('static', filename='image1.png') }}" alt="Logo" width="200px" height="100px">
                </a>
            </div>
            <p id="p1" class="type">Savor the taste of perfection at Fork N Knives!</p>
            <p id="p2" class="type">Delicious dishes crafted with love and passion.</p>
            <p id="p3" class="type">Order your favorite meals online, anytime!</p>
            <p id="p4" class="type">Join us and experience food that feels like home.</p>
        </div>

        <div class="login-form" id="login-form">
            <h1>Sign Up</h1>
            <form id="signup" action="/signup" method="POST" novalidate>
                <label for="email" >Email</label>
                <br>
                <input type="email" name="email" id="email" placeholder="Enter Your Email" required>
                <span id="textemail" style="color:red; display:block; margin-top:5px;"></span>

                <br>
                <br>
                <label for="password" >Password</label>
                <br>
                <input type="password"name="password" id="pass1"  placeholder="Enter Your Password" required>
                <span id="errorpass1" style="color:red; display:block; margin-top:5px;"></span>
                <br>
                <br>
                <label for="confirm_password">Confirm Password</label>
                <br>
                <input type="password" name="cpassword" id="pass2"  placeholder="Enter Your Confirm Password" required>
                <span id="errorpass2" style="color:red; display:block; margin-top:5px;"></span>
                <br>
                <br>
                <div class="btn">
                    <button type="submit">Sign Up</button>
                </div>
            </form>
            {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="flash-container">
      {% for category, message in messages %}
        <div class="flash-message {{ category }}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}
            <div class="link">
                <p>Already have an account?</p>
            <a href="/login">Login</a>
            </div>
           
        </div>
        
    </div>
    <script>
      document.getElementById("signup").addEventListener("submit",function(e){
        e.preventDefault();
        const emailPattern = /^[a-zA-Z0-9._%+-]+@gmail\.com$/i;

        const email=document.getElementById("email").value.trim();
        const p1=document.getElementById("pass1").value;
        const p2=document.getElementById("pass2").value;
        document.getElementById("textemail").textContent = "";
        document.getElementById("errorpass1").textContent = "";
        document.getElementById("errorpass2").textContent = "";
      
        let valid=true;
      
        if(email===""){
          document.getElementById("textemail").textContent="Email is Empty!"
          console.log("email is empty")
          valid=false;
        }else if (!emailPattern.test(email)) {
          document.getElementById("textemail").textContent = "Invalid email format!";
          valid = false;
        }
        
          
        if( p1===""){
          document.getElementById("errorpass1").textContent="Password is empty"
      valid=false;
        }
        else if(p1.length<9){
          document.getElementById("errorpass1").textContent="Password Length must be 8 characters"
      valid=false;
        }
        if( p2===""){
          document.getElementById("errorpass2").textContent="Confirm Password is empty"
      valid=false;
        }
        if(p1!==p2){
          document.getElementById("errorpass2").textContent="Password doesn't match"
      valid=false;
        }
        if(valid){
          alert("Form Submitted")
          document.getElementById("signup").submit()
         
        }
        
      
      });
      </script>
</body>
</html>